# Issue自動作成のしくみ（小学生でもわかる説明）

## これは何？

プログラムが「おかしいぞ！」と気づいたら、自動でお知らせしてくれるしくみです。

---

## たとえ話：学校の「忘れ物チェック係」

```
【毎朝の流れ】

先生（GitHub Actions）
   ↓
「みんな、教科書持ってきた？」
   ↓
┌─ 全員OK → 「よし、授業始めるよ！」
│
└─ 誰か忘れた → 「たろうくん、教科書忘れてるよ！」
                    ↓
                 連絡帳に書く（Issue作成）
                    ↓
                 お母さんにLINE（Discord通知）
                    ↓
                 お母さんが教科書を届ける（Claude Codeが修正）
                    ↓
                 先生が確認「届いたね！OK！」
                    ↓
                 連絡帳に「解決」と書く（Issue閉じる）
```

---

## 実際の流れ

### 1. 毎日チェックする（GitHub Actions）

```
┌─────────────────────────────────────┐
│  GitHub Actions（見張り番）          │
│                                     │
│  毎日朝9時に自動でチェック！          │
│  「問題ないかな〜？」                 │
└─────────────────────────────────────┘
```

### 2. 問題を見つけたら（異常検知）

```
┌─────────────────────────────────────┐
│  あ！問題見つけた！                   │
│                                     │
│  ❌ パスワードがコードに書いてある！    │
│  ❌ 大事なファイルがない！             │
│  ❌ プログラムが動かない！             │
└─────────────────────────────────────┘
```

### 3. お知らせを送る（Discord通知）

```
┌─────────────────────────────────────┐
│  📱 ピコーン！（Discordに通知）       │
│                                     │
│  🚨「大変！問題が見つかりました！」    │
│  📍「ここを見てね」（リンク付き）      │
│  👉「Claude Codeに直してもらってね」  │
└─────────────────────────────────────┘
```

### 4. 連絡帳に書く（Issue作成）

```
┌─────────────────────────────────────┐
│  📝 GitHub Issue（連絡帳）            │
│                                     │
│  題名：「セキュリティチェックが失敗」   │
│  内容：                              │
│    - いつ起きた？                     │
│    - 何が問題？                       │
│    - どうやって直す？                 │
│    - 直したら何をする？               │
└─────────────────────────────────────┘
```

### 5. 直してもらう（Claude Codeに依頼）

```
┌─────────────────────────────────────┐
│  👨‍💻 あなた（オーナー）              │
│                                     │
│  「Claude Code、これ直して！」        │
│                                     │
│  📝 Issueのリンクを見せる             │
│  📝 エラーの内容を伝える              │
└─────────────────────────────────────┘
         ↓
┌─────────────────────────────────────┐
│  🤖 Claude Code                      │
│                                     │
│  「わかりました！直しますね」          │
│                                     │
│  1. コードを修正                     │
│  2. POKA_HISTORY.mdに記録            │
│  3. ポカヨケを追加                   │
│  4. git push                        │
└─────────────────────────────────────┘
```

### 6. 確認する（GitHub Actions再実行）

```
┌─────────────────────────────────────┐
│  GitHub Actions                      │
│                                     │
│  「新しいコードが来た！チェックするよ」 │
│         ↓                           │
│  「...チェック中...」                 │
│         ↓                           │
│  ✅「OK！問題なくなった！」           │
└─────────────────────────────────────┘
```

### 7. 完了報告（Discord通知）

```
┌─────────────────────────────────────┐
│  📱 ピコーン！                       │
│                                     │
│  ✅「直りました！」                   │
│  📋「Issue #123 を閉じてね」          │
└─────────────────────────────────────┘
```

---

## 図で見る全体の流れ

```
    ┌───────────────┐
    │ GitHub Actions │ ← 毎日チェックする見張り番
    │   （自動）     │
    └───────┬───────┘
            │
            ▼
    ┌───────────────┐
    │  問題あり？    │
    └───────┬───────┘
            │
       ┌────┴────┐
       ▼         ▼
    【なし】   【あり】
       │         │
       ▼         ▼
    終わり   ┌───────────────┐
             │ Discord通知   │ ← お母さんにLINE
             │ Issue作成     │ ← 連絡帳に書く
             └───────┬───────┘
                     │
                     ▼
             ┌───────────────┐
             │ あなたが見る   │ ← 「あ、問題だ」
             └───────┬───────┘
                     │
                     ▼
             ┌───────────────┐
             │ Claude Codeに │ ← 「直して！」
             │ 依頼する      │
             └───────┬───────┘
                     │
                     ▼
             ┌───────────────┐
             │ Claude Codeが │ ← 修正する
             │ 修正          │
             └───────┬───────┘
                     │
                     ▼
             ┌───────────────┐
             │ git push      │ ← 送る
             └───────┬───────┘
                     │
                     ▼
             ┌───────────────┐
             │ GitHub Actions │ ← また自動チェック
             │   （自動）     │
             └───────┬───────┘
                     │
                     ▼
             ┌───────────────┐
             │   OK！        │ ← 問題なくなった
             └───────┬───────┘
                     │
                     ▼
             ┌───────────────┐
             │ Discord通知   │ ← 「直ったよ！」
             │ 「完了」      │
             └───────┬───────┘
                     │
                     ▼
             ┌───────────────┐
             │ Issueを閉じる │ ← 連絡帳に「解決」
             └───────────────┘
```

---

## なぜ自動でやるの？

### 人間だけだと...

```
😵 「あ、チェックするの忘れてた...」
😰 「問題あったけど、誰にも言ってなかった...」
😱 「いつ問題が起きたか覚えてない...」
```

### 自動化すると...

```
🤖 「毎日かならずチェックするよ！」
📱 「問題があったらすぐ教えるよ！」
📝 「いつ何が起きたか全部記録するよ！」
```

---

## 大事なポイント

| 🎯 ポイント | 説明 |
|------------|------|
| **自動でチェック** | 人間が忘れても、コンピュータが毎日チェック |
| **すぐにお知らせ** | 問題があったらDiscordですぐわかる |
| **記録が残る** | Issueに「いつ」「何が」「どうなった」が残る |
| **直したら確認** | 直したあとも自動でチェックしてくれる |

---

## 関連ドキュメント

- [AUTOMATION_SYSTEMS.md](./AUTOMATION_SYSTEMS.md) - 自動化システム一覧
- [PROCESS_QUALITY/INDEX.md](./PROCESS_QUALITY/INDEX.md) - 品質管理
